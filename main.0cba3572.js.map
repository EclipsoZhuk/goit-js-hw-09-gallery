{"version":3,"sources":["js/gallery-items.js","js/refs.js","js/function.js","js/add-event-listener.js","js/main.js"],"names":["galleryItems","preview","original","description","refs","galleryListRef","document","querySelector","backdropRef","lightboxImg","lightboxOverlay","modal","btnModalClose","onClickGalleryItem","evt","preventDefault","window","addEventListener","onClickEsc","target","nodeName","classList","add","src","dataset","source","alt","index","createGallery","gallery","map","join","onClickCloseModal","remove","onCloseButtonClick","removeEventListener","onCloseOverlayClick","currentTarget","code","onArrowLeft","newSrc","length","onArrowRight","step","imgGallery","insertAdjacentHTML"],"mappings":"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","file":"main.0cba3572.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n        description: 'Hokkaido Flower',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n        description: 'Container Haulage Freight',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n        description: 'Aerial Beach View',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n        description: 'Flower Blooms',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n        description: 'Alpine Mountains',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n        description: 'Mountain Lake Sailing',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n        description: 'Alpine Spring Meadows',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n        description: 'Nature Landscape',\r\n    },\r\n    {\r\n        preview:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n        original:\r\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n        description: 'Lighthouse Coast Sea',\r\n    },\r\n];\r\nexport default galleryItems;\r\n","export const refs = {\r\n    galleryListRef: document.querySelector('.js-gallery'),\r\n    backdropRef: document.querySelector('.js-lightbox'),\r\n    lightboxImg: document.querySelector('.lightbox__image'),\r\n    lightboxOverlay: document.querySelector('div.lightbox__overlay'),\r\n    modal: document.querySelector('.lightbox__content'),\r\n    btnModalClose: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n};\r\n","import { refs } from './refs';\r\nimport galleryItems from './gallery-items';\r\n\r\n// ------\r\nexport function onClickGalleryItem(evt) {\r\n    evt.preventDefault();\r\n    window.addEventListener('keydown', onClickEsc);\r\n    const target = evt.target;\r\n    if (target.nodeName !== 'IMG') {\r\n        return;\r\n    }\r\n    if (target.nodeName === 'IMG') {\r\n        refs.backdropRef.classList.add('is-open');\r\n        refs.lightboxImg.src = target.dataset.source;\r\n        refs.lightboxImg.alt = target.alt;\r\n        refs.lightboxImg.dataset.index = evt.target.dataset.index;\r\n    }\r\n}\r\n\r\nexport function createGallery(gallery) {\r\n    return gallery\r\n        .map(({ preview, original, description }, index) => {\r\n            return `<li class=\"gallery__item\">\r\n            <a\r\n                class=\"gallery__link\"\r\n                href=\"${original}\"\r\n            >\r\n                <img\r\n                    class=\"gallery__image\"\r\n                    src=\"${preview}\"\r\n                    data-source=\"${original}\"\r\n                    alt=\"${description}\"\r\n                    data-index=\"${index}\"\r\n                />\r\n            </a>\r\n        </li>`;\r\n        })\r\n        .join('');\r\n}\r\n\r\nexport function onClickCloseModal() {\r\n    refs.backdropRef.classList.remove('is-open');\r\n}\r\n\r\nexport function onCloseButtonClick(evt) {\r\n    window.removeEventListener('keydown', onClickEsc);\r\n\r\n    evt.preventDefault();\r\n    onClickCloseModal();\r\n\r\n    refs.lightboxImg.src = '';\r\n    refs.lightboxImg.alt = '';\r\n}\r\n\r\nexport function onCloseOverlayClick(evt) {\r\n    if (evt.target === evt.currentTarget) {\r\n        onClickCloseModal();\r\n    }\r\n}\r\n\r\nexport function onClickEsc(evt) {\r\n    const ESC_KEY_CODE = 'Escape';\r\n    if (evt.code === ESC_KEY_CODE) {\r\n        onClickCloseModal();\r\n    }\r\n}\r\n\r\nexport function onArrowLeft() {\r\n    const index = +refs.lightboxImg.dataset.index;\r\n\r\n    if (index === 0) {\r\n        newSrc(index, galleryItems.length - 1);\r\n        return;\r\n    }\r\n    newSrc(index, -1);\r\n}\r\n\r\nexport function onArrowRight() {\r\n    const index = +refs.lightboxImg.dataset.index;\r\n    if (index === galleryItems.length - 1) {\r\n        newSrc(0);\r\n        return;\r\n    }\r\n    newSrc(index, 1);\r\n}\r\n\r\nexport function newSrc(index, step = 0) {\r\n    refs.lightboxImg.dataset.index = `${index + step}`;\r\n    refs.lightboxImg.src = galleryItems[index + step].original;\r\n}\r\n","import galleryItems from './gallery-items';\r\n\r\nimport {\r\n    onClickGalleryItem,\r\n    createGallery,\r\n    onCloseButtonClick,\r\n    onCloseOverlayClick,\r\n    onArrowLeft,\r\n    onArrowRight,\r\n} from './function';\r\n\r\nimport { refs } from './refs';\r\n\r\n// --------\r\nexport const imgGallery = createGallery(galleryItems);\r\nrefs.galleryListRef.insertAdjacentHTML('beforeend', imgGallery);\r\n\r\nrefs.galleryListRef.addEventListener('click', onClickGalleryItem);\r\nrefs.btnModalClose.addEventListener('click', onCloseButtonClick);\r\nrefs.lightboxOverlay.addEventListener('click', onCloseOverlayClick);\r\n\r\nwindow.addEventListener('keydown', evt => {\r\n    if (evt.code === 'ArrowLeft') {\r\n        onArrowLeft();\r\n    }\r\n    if (evt.code === 'ArrowRight') {\r\n        onArrowRight();\r\n    }\r\n});\r\n","import './gallery-items';\r\nimport './function';\r\nimport './refs';\r\nimport './add-event-listener';\r\n"]}